!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/operators"),require("rxjs"),require("@angular/platform-browser"),require("@angular/common"),require("@angular/common/http"),require("@angular/forms"),require("@angular/router"),require("@ng-bootstrap/ng-bootstrap"),require("projects/leatherman-bootstrap/src/public-api"),require("@auth0/angular-jwt"),require("lodash"),require("class-transformer"),require("shortid")):"function"==typeof define&&define.amd?define("leatherman-bootstrap",["exports","@angular/core","rxjs/operators","rxjs","@angular/platform-browser","@angular/common","@angular/common/http","@angular/forms","@angular/router","@ng-bootstrap/ng-bootstrap","projects/leatherman-bootstrap/src/public-api","@auth0/angular-jwt","lodash","class-transformer","shortid"],e):e((t=t||self)["leatherman-bootstrap"]={},t.ng.core,t.rxjs.operators,t.rxjs,t.ng.platformBrowser,t.ng.common,t.ng.common.http,t.ng.forms,t.ng.router,t.ngBootstrap,t.publicApi,t.angularJwt,t.lodash,t.classTransformer,t.shortid)}(this,(function(t,e,r,n,i,o,s,a,u,c,l,h,d,p,f){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function g(t,e){function r(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var y=function(){return(y=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function m(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function b(t,e){return function(r,n){e(r,n,t)}}function S(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function w(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function _(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}var I,E=function(){function t(){this.isInitialized=!1,this.isLoading=!1,this.destroySubject$=new n.Subject}return t.prototype.ngOnDestroy=function(){this.destroySubject$.next()},t.prototype.decodeURIComponent=function(t){return t?decodeURIComponent(t):t},t.prototype.encodeURIComponent=function(t){return t?encodeURIComponent(t):t},t.prototype.subscribeSubject=function(t,e){var n=this;t.pipe(r.takeUntil(this.destroySubject$)).subscribe((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(r){switch(r.label){case 0:return[4,e(t)];case 1:return r.sent(),[2]}}))}))}))},t.prototype.subscribeSubjectSync=function(t,e){t.pipe(r.takeUntil(this.destroySubject$)).subscribe((function(t){e(t)}))},t.prototype.subscribeValueChanges=function(t,e){var n=this;t.valueChanges.pipe(r.debounceTime(400),r.distinctUntilChanged()).pipe(r.takeUntil(this.destroySubject$)).subscribe((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(r){switch(r.label){case 0:return[4,e(t)];case 1:return r.sent(),[2]}}))}))}))},t=m([e.Component({selector:"lm-base-component",template:"No UI Here"})],t)}(),R=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustHtml(t)},t.ctorParameters=function(){return[{type:i.DomSanitizer}]},t=m([e.Pipe({name:"safeHtml"})],t)}(),C=new e.InjectionToken("LeathermanAppConfig"),k=new e.InjectionToken("ErrorDialogService"),P=new e.InjectionToken("ConfirmDialogService"),D=function(){function t(){}return t=m([e.NgModule({imports:[o.CommonModule,u.RouterModule,s.HttpClientModule,a.ReactiveFormsModule],exports:[a.ReactiveFormsModule,o.CommonModule,u.RouterModule,s.HttpClientModule,a.ReactiveFormsModule]})],t)}(),O=function(){function t(t){this.activeModal=t}return t.prototype.ngOnInit=function(){this.title=this.data.title,this.message=this.data.message},t.prototype.onClose=function(){this.activeModal.close()},t.ctorParameters=function(){return[{type:c.NgbActiveModal}]},m([e.Input()],t.prototype,"data",void 0),t=m([e.Component({selector:"lm-error-dialog",template:'<div class="modal-header">\n  <h4 class="modal-title">{{ title }}</h4>\n</div>\n<div class="modal-body">\n  <p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n  <button type="button" class="btn btn-light" (click)="onClose()">\n    Ok\n  </button>\n</div>',styles:[""]})],t)}(),U=function(t,e,r,n){this.button=t,this.data=e,this.data2=r,this.data3=n};(I=t.DialogButton||(t.DialogButton={}))[I.Error=-1]="Error",I[I.OK=0]="OK",I[I.Cancel=1]="Cancel";var x,T,A,M,q=function(){function r(t){this.activeModal=t}return r.prototype.ngOnInit=function(){},r.prototype.onCancel=function(){var e=new U(t.DialogButton.Cancel);this.activeModal.close(e)},r.prototype.onConfirm=function(){var e=new U(t.DialogButton.OK);this.activeModal.close(e)},r.ctorParameters=function(){return[{type:c.NgbActiveModal}]},m([e.Input()],r.prototype,"dialogData",void 0),r=m([e.Component({selector:"lm-confirm-dialog",template:'<div class="modal-header">\n  <h4 class="modal-title">{{ dialogData.title }}</h4>\n  <button type="button" class="close" aria-label="Close" (click)="onCancel()">\n    <span aria-hidden="true">&times;</span>\n  </button>\n</div>\n<div class="modal-body">\n  <p>{{ dialogData.message }}</p>\n</div>\n<div class="modal-footer">\n  <button type="button" class="btn btn-light" (click)="onCancel()"> Cancel </button>\n  <button type="button" class="btn btn-danger" (click)="onConfirm()"> Confirm </button>\n</div>',styles:[""]})],r)}(),N=function(){function t(){}var r;return r=t,t.forRoot=function(t,e,n){return{ngModule:r,providers:[{provide:C,useValue:t},{provide:k,useClass:e},{provide:P,useClass:n}]}},t=r=m([e.NgModule({imports:[D],declarations:[R,E,O,q],exports:[R,E,O,q]})],t)}(),H=function(t,e){this.title=t,this.message=e},F=function(){function t(t){this.dialog=t}return t.prototype.openConfirmDialog=function(t,e){return S(this,void 0,void 0,(function(){var r,n;return w(this,(function(i){switch(i.label){case 0:return r=new H(t,e),(n=this.dialog.open(q,{backdrop:"static",keyboard:!1})).componentInstance.dialogData=r,[4,n.result];case 1:return[2,i.sent()]}}))}))},t.ctorParameters=function(){return[{type:c.NgbModal}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(c.NgbModal))},token:t,providedIn:"root"}),t=m([e.Injectable({providedIn:"root"})],t)}(),B=function(r){function n(t){return r.call(this,t)||this}return g(n,r),n.prototype.openConfirmDialog=function(e,r){return S(this,void 0,void 0,(function(){return w(this,(function(e){return console.log("Using mock confirm dialog service."),[2,Promise.resolve(new U(t.DialogButton.OK))]}))}))},n.ctorParameters=function(){return[{type:c.NgbModal}]},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(c.NgbModal))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"})],n)}(F),L=function(t,e){this.title=t,this.message=e},W=function(){function r(t){this.dialog=t}return r.prototype.openErrorDialog=function(e,r){return S(this,void 0,void 0,(function(){var n;return w(this,(function(i){return n=new L(e,r),this.dialog.open(O).componentInstance.data=n,[2,new U(t.DialogButton.OK)]}))}))},r.ctorParameters=function(){return[{type:c.NgbModal}]},r.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new r(e.ɵɵinject(c.NgbModal))},token:r,providedIn:"root"}),r=m([e.Injectable({providedIn:"root"})],r)}(),z=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return g(n,r),n.prototype.openErrorDialog=function(e,r){return S(this,void 0,void 0,(function(){return w(this,(function(n){return console.log("Using mock error dialog service."),console.log("Title: "+e),console.log("Title: "+r),[2,Promise.resolve(new U(t.DialogButton.OK))]}))}))},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(c.NgbModal))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"})],n)}(W);(x=t.Secure||(t.Secure={}))[x.true=0]="true",x[x.false=1]="false",x[x.api=2]="api",(T=t.Status||(t.Status={}))[T.OK=200]="OK",T[T.Created=201]="Created",T[T.NoData=204]="NoData",T[T.NotModifed=304]="NotModifed",T[T.BadRequest=400]="BadRequest",T[T.NotAuthorized=401]="NotAuthorized",T[T.ImATeapot=418]="ImATeapot",T[T.Error=500]="Error",(A=t.SessionState||(t.SessionState={})).LocalStorage="local-storage",A.SessionStorage="session-storage",(M=t.TestArtifact||(t.TestArtifact={}))[M.true=0]="true",M[M.false=1]="false";var $,K,V,G,Q,X=function(){function t(t,e){void 0===t&&(t=1),void 0===e&&(e=10),this.query="",this.filter="",this.skip=0,this.take=10,this.sort="",this.sortColumn="",this.sortAscending=!0,this.take=e,this.skip=(t-1)*e}return t.calculatePageCount=function(t,e){return Math.floor((t-1)/e)+1},t.prototype.setSort=function(t,e){void 0===e&&(e=!0),this.sortColumn=t,this.sortAscending=e,this.sort=!0===e?t+":ASC":t+":DESC"},t}(),Z=function(){this.roles=[]},J=function(){},Y=function(t,e){this.email=t,this.password=e},tt=function(e){e===t.TestArtifact.true&&(this.testArtifact=!0)},et=function(t,e,r,n,i){this.field=t,this.label=e,this.token=r,this.isString=n,this.facetLabelCallback=i},rt=function(t,e,r){this.field=t,this.label=e,this.isString=r},nt=function(){this.token="",this.value="",this.label="",this.query="",this.field="",this.excludedFacet=!1,this.isString=!1},it=function(){function t(){this.fields=[],this.rangeQueries=[]}return t.prototype.getRangeQuery=function(t){var e,r,n=t.replace(/{[^}]+}/i,"").trim();try{for(var i=_(this.rangeQueries),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.query===n)return s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return null},t}(),ot=function(t,e,r,n,i,o){this.field=t,this.label=e,this.fromValue=r,this.toValue=n,this.query=i,this.value=o},st=function(){this.token="",this.fromValue="",this.toValue="",this.label="",this.query="",this.field="",this.value="",this.excludedFacet=!1},at=function(t,e,r,n,i,o,s){this.field=t,this.fromValue=e,this.toValue=r,this.facetLabel=n,this.label=i,this.value=o,this.token=s,this.query=t+":["+e+" TO "+r+"]"},ut=function(){},ct=function(){},lt=function(){function t(){this.facetFilters=[],this.facetRangeFilters=[],this.otherFilters=[]}return t.prototype.getMatchFilters=function(){var t,e,r,n,i=[];try{for(var o=_(this.facetFilters),s=o.next();!s.done;s=o.next()){var a=s.value,u=new ut;a.excludedFacet?u.field="{!tag="+a.token+"}"+a.field:u.field=a.field,!0===a.isString?u.value='"'+this.urlDecode(a.value)+'"':u.value=this.urlDecode(a.value),i.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}try{for(var c=_(this.otherFilters),l=c.next();!l.done;l=c.next()){var h=l.value;i.push(h)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return i},t.prototype.getRangeFilters=function(){var t,e,r=[];try{for(var n=_(this.facetRangeFilters),i=n.next();!i.done;i=n.next()){var o=i.value,s=new ct;o.excludedFacet?s.field="{!tag="+o.token+"}"+o.field:s.field=o.field,s.query=o.query,s.start=this.urlDecode(o.fromValue),s.end=this.urlDecode(o.toValue),r.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},t.prototype.urlDecode=function(t){return decodeURIComponent(t)},t}(),ht=function(){function t(){this.label="",this.count=0,this.query="",this.active=!1}return t.prototype.createQuery=function(t,e,r){var n,i,o,s,a="";a=this.appendQueryString(a,"f=");var u=null,c=!1;try{for(var l=_(e),h=l.next();!h.done;h=l.next()){var d=h.value;d.token!==this.token||d.value!==this.value?d.token!==this.token&&(a+=d.token+":"+this.urlEncode(d.value)+";"):(u=d,c=!0,this.active=!0)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}var p=null;try{for(var f=_(r),v=f.next();!v.done;v=f.next()){var g=v.value;g.token!==this.token||g.value!==this.value?g.token!==this.token&&(a+=g.token+":"+this.urlEncode(g.value)+";"):(p=g,c=!0,this.active=!0)}}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}!1===c&&(a+=this.token+":"+this.urlEncode(this.value)),a.endsWith(";")&&(a=a.substr(0,a.length-1)),"f="===a&&(a=""),u&&(u.query=a,this.active=!0),p&&(p.query=a,this.active=!0),this.query=a},t.prototype.appendQueryString=function(t,e){var r;return r=t?t+"&":"",r+=e},t.prototype.urlEncode=function(t){return encodeURIComponent(t)},t}(),dt=function(){function t(t,e){this.field=t,this.label=e,this.items=[]}return t.prototype.createQuery=function(t,e,r){var n,i;try{for(var o=_(this.items),s=o.next();!s.done;s=o.next()){s.value.createQuery(t,e,r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t}(),pt=function(t){this.qTime=t.responseHeader.QTime,this.resultCount=t.response.docs.length,this.numFound=t.response.numFound,this.start=t.response.start},ft=function(t,e){this.q=e.q,this.facetOptions=e.facetOptions,this.facetFilters=e.facetFilters,this.facetRangeFilters=e.facetRangeFilters,this.start=t.responseHeader.params.start,this.rows=t.responseHeader.params.rows},vt=function(){function e(e){void 0===e&&(e=t.Status.OK),this.code=e}return Object.defineProperty(e.prototype,"text",{get:function(){switch(this.code){case t.Status.OK:return"OK";case t.Status.Created:return"Created";case t.Status.NoData:return"No Data";case t.Status.NotModifed:return"No Modified";case t.Status.BadRequest:return"Bad Request";case t.Status.NotAuthorized:return"Not Athorized";case t.Status.ImATeapot:return"I'm a Teapot";case t.Status.Error:return"Error";default:return"Unknown"}},enumerable:!0,configurable:!0}),e.prototype.isError=function(){return this.code!==t.Status.OK&&this.code!==t.Status.NoData&&this.code!==t.Status.Created&&this.code!==t.Status.NotModifed},e.prototype.isNotError=function(){return this.code===t.Status.OK||this.code===t.Status.NoData||this.code===t.Status.Created||this.code===t.Status.NotModifed},e}(),gt=function(){function e(e){void 0===e&&(e=t.Status.OK),this.status=new vt(e)}return e.isError=function(e,r){return!(r&&r.findIndex((function(t){return t===e}))>=0)&&(e!==t.Status.OK&&e!==t.Status.NoData&&e!==t.Status.Created&&e!==t.Status.NotModifed)},e.isNotError=function(e){return e===t.Status.OK||e===t.Status.NoData||e===t.Status.Created||e===t.Status.NotModifed},e}(),yt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return g(e,t),e}(gt),mt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return g(e,t),e}(gt),bt=function(t){this.data=[],this.facets=[],this.data=t.data,this.facets=t.facets,this.request=t.request,this.meta=t.meta},St=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n.facets=[],n}return g(e,t),e}(gt),wt=function(t){function e(e,r,n,i,o,s){var a=t.call(this)||this;return a.serviceName=e,a.message=r,a.status=n,a.statusText=i,a.url=o,a.stackTrace=s,a}return g(e,t),e}(tt),_t=function(t,e,r){void 0===e&&(e=null),this.type=t,this.message=e,this.callbackId=r},jt=function(e,r,n,i,o,s){this.firstName=e,this.lastName=r,this.email=n,this.password=i,this.roles=o,s===t.TestArtifact.true&&(this.testArtifact=!0)},It=function(t){this.email=t},Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roles=[],e}return g(e,t),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.firstName+" "+this.lastName},enumerable:!0,configurable:!0}),e}(tt),Rt=function(){},Ct=function(){},kt=function(t,e){this.name=t,this.value=e},Pt=function(){function t(){this._parameters=[]}return Object.defineProperty(t.prototype,"hasParameters",{get:function(){return this._parameters.length>0},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){this._parameters.push(new kt(t,e))},t.prototype.getParamterString=function(){var t,e,r="?";try{for(var n=_(this._parameters),i=n.next();!i.done;i=n.next()){var o=i.value;"?"!==r&&(r+="&"),r+=o.name+"="+o.value}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},t}(),Dt=function(){this.suppressedErrors=[],this.parameters=new Pt},Ot=function(){function t(){}return t.join=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=[];if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<t.length;i++){var o=t[i];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(i>0&&(o=o.replace(/^[\/]+/,"")),o=i<t.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),r.push(o))}var s=r.join("/"),a=(s=s.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s=a.shift()+(a.length>0?"?":"")+a.join("&")},t}(),Ut=function(){function i(t,e,r,n){this.config=t,this.errorDialogService=e,this.router=r,this.httpClient=n}return Object.defineProperty(i.prototype,"baseEndpoint",{get:function(){return this._baseEndpoint},set:function(t){this._baseEndpoint=t,!1===this._baseEndpoint.startsWith("/")&&(this._baseEndpoint="/"+this._baseEndpoint),!1===this._baseEndpoint.endsWith("/")&&(this._baseEndpoint=this._baseEndpoint+"/")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"apiRoot",{get:function(){return this.config.apiRoot?this.config.serverUrl+"/"+this.config.apiRoot:this.config.serverUrl},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"apiKey",{get:function(){return this.config.apiKey},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"noTokenHeader",{get:function(){return new s.HttpHeaders({"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"Sat, 01 Jan 2000 00:00:00 GMT"})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"apiHeader",{get:function(){var t=this.apiKey?"Bearer "+this.apiKey:"";return new s.HttpHeaders({Authorization:t,"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"Sat, 01 Jan 2000 00:00:00 GMT"})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"authHeader",{get:function(){var t="",e=this.config.store||l.SessionState.LocalStorage,r=(t=l.SessionState.SessionStorage===e?sessionStorage.getItem(this.config.jwtTokenName):localStorage.getItem(this.config.jwtTokenName))?"Bearer "+t:"";return new s.HttpHeaders({Authorization:r,"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"Sat, 01 Jan 2000 00:00:00 GMT"})},enumerable:!0,configurable:!0}),i.prototype._delete=function(t,e){return S(this,void 0,void 0,(function(){var r,n;return w(this,(function(i){switch(i.label){case 0:return[4,this.validateId(t,"Error deleting a record. Invalid ID.")];case 1:return!1===i.sent()?[2,!1]:(r=this.getHeader(e),[4,this.httpClient.delete(Ot.join(this.apiRoot,this._baseEndpoint,t),{headers:r}).toPromise()]);case 2:return n=i.sent(),gt.isError(n.status.code)?[4,this.errorDialogService.openErrorDialog(n.status.text,n.status.message)]:[3,4];case 3:return i.sent(),[2,!1];case 4:return[2,!0]}}))}))},i.prototype._deleteWithOptions=function(t){return S(this,void 0,void 0,(function(){var e,r,n;return w(this,(function(i){switch(i.label){case 0:return e=t.url?t.url:Ot.join(this.apiRoot,this._baseEndpoint,t.url),t.id&&(e=Ot.join(e,t.id)),t.parameters.hasParameters&&(e=Ot.join(e,t.parameters.getParamterString())),r=this.getHeader(t.secure),[4,this.httpClient.delete(e,{headers:r}).toPromise()];case 1:return n=i.sent(),gt.isError(n.status.code,t.suppressedErrors)?[4,this.errorDialogService.openErrorDialog(n.status.text,n.status.message)]:[3,3];case 2:return i.sent(),[2,!1];case 3:return[2,!0]}}))}))},i.prototype._deleteTestArtifacts=function(){return S(this,void 0,void 0,(function(){var e,r=this;return w(this,(function(n){switch(n.label){case 0:return(e=new Dt).url=Ot.join(this.apiRoot,this.baseEndpoint,"deletetestartifacts"),e.secure=t.Secure.true,[4,this._deleteWithOptions(e).catch((function(t){return S(r,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("BaseDataService","_deleteTestArtifacts",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,n.sent()]}}))}))},i.prototype._get=function(t,e){return S(this,void 0,void 0,(function(){var r,n;return w(this,(function(i){switch(i.label){case 0:return this.validateId(t,"Error getting a record. Invalid ID."),r=this.getHeader(e),[4,this.httpClient.get(Ot.join(this.apiRoot,this._baseEndpoint,t),{headers:r}).toPromise()];case 1:return n=i.sent(),gt.isError(n.status.code)?(this.errorDialogService.openErrorDialog(n.status.text,n.status.message),[2,null]):(n.data,[2,n.data])}}))}))},i.prototype._getObservable=function(t,e){this.validateId(t,"Error getting a record. Invalid ID.");var n=this.getHeader(e);return this.httpClient.get(Ot.join(this.apiRoot,this._baseEndpoint,t),{headers:n}).pipe(r.map((function(t){return t.data})))},i.prototype._getObservableWithOptions=function(t){var e;e=t.url?t.url:Ot.join(this.apiRoot,this._baseEndpoint,t.url),t.id&&(e=Ot.join(e,t.id)),t.parameters.hasParameters&&(e=Ot.join(e,t.parameters.getParamterString()));var n=this.getHeader(t.secure);return this.httpClient.get(e,{headers:n}).pipe(r.map((function(t){return t.data})))},i.prototype._getWithOptions=function(t){return S(this,void 0,void 0,(function(){var e,r,n;return w(this,(function(i){switch(i.label){case 0:return e=t.url?t.url:Ot.join(this.apiRoot,this._baseEndpoint,t.url),t.id&&(e=Ot.join(e,t.id)),t.parameters.hasParameters&&(e=Ot.join(e,t.parameters.getParamterString()),console.log("Cache busting URL:"+e)),r=this.getHeader(t.secure),[4,this.httpClient.get(e,{headers:r}).toPromise()];case 1:return n=i.sent(),gt.isError(n.status.code,t.suppressedErrors)?[4,this.errorDialogService.openErrorDialog(n.status.text,n.status.message)]:[3,3];case 2:return i.sent(),[2,null];case 3:return null===n.data||void 0===n.data?[2,null]:(n.data,[2,n.data])}}))}))},i.prototype._getMany=function(t){return S(this,void 0,void 0,(function(){var e,r;return w(this,(function(n){switch(n.label){case 0:return e=this.getHeader(t),[4,this.httpClient.get(Ot.join(this.apiRoot,this._baseEndpoint),{headers:e}).toPromise()];case 1:return r=n.sent(),gt.isError(r.status.code)?[4,this.errorDialogService.openErrorDialog(r.status.text,r.status.message)]:[3,3];case 2:return n.sent(),[2,null];case 3:return[2,r.data]}}))}))},i.prototype._getManyWithOptions=function(t){return S(this,void 0,void 0,(function(){var e,r,n;return w(this,(function(i){switch(i.label){case 0:return e=t.url?t.url:Ot.join(this.apiRoot,this._baseEndpoint,t.url),t.id&&(e=Ot.join(e,t.id)),t.parameters.hasParameters&&(e=Ot.join(e,t.parameters.getParamterString())),r=this.getHeader(t.secure),[4,this.httpClient.get(e,{headers:r}).toPromise()];case 1:return n=i.sent(),gt.isError(n.status.code,t.suppressedErrors)?[4,this.errorDialogService.openErrorDialog(n.status.text,n.status.message)]:[3,3];case 2:return i.sent(),[2,null];case 3:return[2,n.data]}}))}))},i.prototype._post=function(t,e,r){return void 0===r&&(r=!0),S(this,void 0,void 0,(function(){var n,i,o,s;return w(this,(function(a){switch(a.label){case 0:if(r&&!this.validateModelId(t,"Error posting a record. Invalid model ID."))return[2,null];n=this.getHeader(e),i=Ot.join(this.apiRoot,this._baseEndpoint),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.httpClient.post(Ot.join(this.apiRoot,this._baseEndpoint),t,{headers:n}).toPromise()];case 2:return o=a.sent(),[3,4];case 3:throw s=a.sent(),console.log("**********"),console.log("HTTP Post Error"),console.log("URL: "+i),console.log(t),s;case 4:return gt.isError(o.status.code)?[4,this.errorDialogService.openErrorDialog(o.status.text,o.status.message)]:[3,6];case 5:return a.sent(),[2,null];case 6:return[2,o.data]}}))}))},i.prototype._postWithOptions=function(t,e){return S(this,void 0,void 0,(function(){var r,n,i;return w(this,(function(o){switch(o.label){case 0:return e.validateId&&!this.validateModelId(t,"Error posting a record. Invalid model ID.")?[2,null]:(r=e.url?e.url:Ot.join(this.apiRoot,this._baseEndpoint,e.url),e.id&&(r+=e.id),e.parameters.hasParameters&&(r+=e.parameters.getParamterString()),n=this.getHeader(e.secure),[4,this.httpClient.post(r,t,{headers:n}).toPromise()]);case 1:return i=o.sent(),gt.isError(i.status.code,e.suppressedErrors)?[4,this.errorDialogService.openErrorDialog(i.status.text,i.status.message)]:[3,3];case 2:return o.sent(),[2,null];case 3:return[2,i.data]}}))}))},i.prototype._put=function(t,e,r){return void 0===r&&(r=!0),S(this,void 0,void 0,(function(){var n,i;return w(this,(function(o){switch(o.label){case 0:return t&&r&&!this.validateModelId(t,"Error putting a record. Invalid model ID.")?[2,null]:(n=this.getHeader(e),[4,this.httpClient.put(Ot.join(this.apiRoot,this._baseEndpoint,t._id),t,{headers:n}).toPromise()]);case 1:return i=o.sent(),gt.isError(i.status.code)?[4,this.errorDialogService.openErrorDialog(i.status.text,i.status.message)]:[3,3];case 2:return o.sent(),[2,null];case 3:return[2,i.data]}}))}))},i.prototype._putWithOptions=function(t,e){return S(this,void 0,void 0,(function(){var r,n,i;return w(this,(function(o){switch(o.label){case 0:return e&&t.validateId&&!this.validateModelId(e,"Error putting a record. Invalid model ID.")?[2,null]:(r=t.url?t.url:Ot.join(this.apiRoot,this._baseEndpoint,t.url),t.id&&(r=Ot.join(r,t.id)),t.parameters.hasParameters&&(r=Ot.join(r,t.parameters.getParamterString())),n=this.getHeader(t.secure),[4,this.httpClient.put(r,e,{headers:n}).toPromise()]);case 1:return i=o.sent(),gt.isError(i.status.code,t.suppressedErrors)?[4,this.errorDialogService.openErrorDialog(i.status.text,i.status.message)]:[3,3];case 2:return o.sent(),[2,null];case 3:return[2,i.data]}}))}))},i.prototype._searchWithOptions=function(t){return S(this,void 0,void 0,(function(){var e,r,n;return w(this,(function(i){switch(i.label){case 0:return e=t.url?t.url:Ot.join(this.apiRoot,this.baseEndpoint,t.url),t.id&&(e=Ot.join(e,t.id)),t.parameters.hasParameters&&(e=Ot.join(e,t.parameters.getParamterString()),console.log("Cache busting URL:"+e)),r=this.getHeader(t.secure),[4,this.httpClient.get(e,{headers:r}).toPromise()];case 1:return n=i.sent(),St.isError(n.status.code,t.suppressedErrors)?[4,this.errorDialogService.openErrorDialog(n.status.text,n.status.message)]:[3,3];case 2:return i.sent(),[2,null];case 3:return[2,new bt(n)]}}))}))},i.prototype._uploadFormData=function(t,e,n){var i=this.getHeader(n);return this.httpClient.post(t,e,{headers:i,reportProgress:!0,observe:"events"}).pipe(r.map((function(t){var e;switch(t.type){case s.HttpEventType.UploadProgress:var r=Math.round(100*t.loaded/t.total);return(e=new _t("Progress")).progressPercent=r,e;case s.HttpEventType.Response:return e=new _t("Response",t.body);default:return e=new _t("Error","Unhandled event: "+t.type)}})))},i.prototype.handleObservableError=function(t,e){return void 0===e&&(e={}),function(r){return console.error(t,r),console.error(t+" error status",r.status),n.of(e)}},i.prototype.handlePromiseError=function(t,e,r){return S(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return console.log("Service: "+t+" Method: "+e+" Message: "+r.message),[4,this.errorDialogService.openErrorDialog("Unhandled Exception","An unhandled exception error occurred: "+r.message)];case 1:return n.sent(),[2,null]}}))}))},i.prototype.getHeader=function(e){switch(e){case t.Secure.true:return this.authHeader;case t.Secure.api:return this.apiHeader;case t.Secure.false:default:return this.noTokenHeader}},i.prototype.validateModelId=function(t,e){return S(this,void 0,void 0,(function(){return w(this,(function(r){switch(r.label){case 0:return t._id?[3,2]:[4,this.errorDialogService.openErrorDialog("Invalid Model ID",e)];case 1:return r.sent(),[2,!1];case 2:return[2,!0]}}))}))},i.prototype.validateId=function(t,e){return S(this,void 0,void 0,(function(){return w(this,(function(r){switch(r.label){case 0:return t?[3,2]:[4,this.errorDialogService.openErrorDialog("Invalid Model ID",e)];case 1:return r.sent(),[2,!1];case 2:return[2,!0]}}))}))},i.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[C]}]},{type:W,decorators:[{type:e.Inject,args:[k]}]},{type:u.Router},{type:s.HttpClient}]},i.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new i(e.ɵɵinject(C),e.ɵɵinject(k),e.ɵɵinject(u.Router),e.ɵɵinject(s.HttpClient))},token:i,providedIn:"root"}),i=m([e.Injectable({providedIn:"root"}),b(0,e.Inject(C)),b(1,e.Inject(k))],i)}(),xt=function(r){function n(t,e,n,i){return r.call(this,t,e,n,i)||this}return g(n,r),n.prototype.authenticate=function(e){return S(this,void 0,void 0,(function(){var r,n,i=this;return w(this,(function(o){switch(o.label){case 0:return(r=new Dt).url=Ot.join(this.apiRoot,"authenticate"),r.secure=t.Secure.false,r.validateId=!1,r.suppressedErrors.push(t.Status.NotAuthorized),console.log("About to authenticate"),[4,this._postWithOptions(e,r).catch((function(t){return S(i,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return console.log(t),[4,this.handlePromiseError("AuthenticationDataService","authenticate",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return n=o.sent(),console.log("Authentication details"),console.log(n),[2,n]}}))}))},n.prototype.register=function(t,e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).url=Ot.join(this.apiRoot,this.config.registerRoute),r.secure=e,r.validateId=!1,[4,this._postWithOptions(t,r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("AuthenticationDataService","register",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[C]}]},{type:W,decorators:[{type:e.Inject,args:[k]}]},{type:u.Router},{type:s.HttpClient}]},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(C),e.ɵɵinject(k),e.ɵɵinject(u.Router),e.ɵɵinject(s.HttpClient))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"}),b(0,e.Inject(C)),b(1,e.Inject(k))],n)}(Ut),Tt=function(){function r(t,e){this.config=t,this.authenticationDataService=e,this.jwtHelper=new h.JwtHelperService,this.store=t.store||l.SessionState.LocalStorage}return Object.defineProperty(r.prototype,"token",{get:function(){return this._token||(this.store===l.SessionState.SessionStorage?this._token=this.getTokenFromSessionStorage():this._token=this.getTokenFromLocalStorage()),this._token},set:function(t){this.store===l.SessionState.SessionStorage?this.setSessionStorage(t):this.setLocalStorage(t),this._token=t},enumerable:!0,configurable:!0}),r.prototype.authenticate=function(t){return S(this,void 0,void 0,(function(){var e;return w(this,(function(r){switch(r.label){case 0:return[4,this.authenticationDataService.authenticate(t)];case 1:return(e=r.sent()).token&&e.token.length>0?this.token=e.token:this.clearToken(),[2,e]}}))}))},r.prototype.clearToken=function(){this._token="",this.store===l.SessionState.LocalStorage?this.clearLocalStorage():this.clearSessionStorage()},r.prototype.getPrimaryUserRole=function(){var t=this.getUserRoles();return t.find((function(t){return"admin"===t}))?"admin":t.find((function(t){return"user"===t}))?"user":t[0]},r.prototype.getTokenExpirationDate=function(){return this.jwtHelper.getTokenExpirationDate(this.token)},r.prototype.getUserId=function(){return!1===this.isAuthenticated()?null:this.jwtHelper.decodeToken(this.token).userId},r.prototype.getUserRoles=function(){return!1===this.isAuthenticated()?[]:this.jwtHelper.decodeToken(this.token).roles},r.prototype.isAuthenticated=function(){return!!this.token&&(!this.jwtHelper.isTokenExpired(this.token)||(this.clearLocalStorage(),!1))},r.prototype.loginUser=function(t){return S(this,void 0,void 0,(function(){var e;return w(this,(function(r){switch(r.label){case 0:return[4,this.authenticationDataService.authenticate(t)];case 1:return(e=r.sent()).token&&e.token.length>0?this.token=e.token:this.clearToken(),[2,e]}}))}))},r.prototype.logoutUser=function(){this.clearToken()},r.prototype.registerUser=function(e,r){return void 0===r&&(r=t.Secure.false),S(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.authenticationDataService.register(e,r)];case 1:return[2,t.sent()]}}))}))},r.prototype.setToken=function(t){this.store===l.SessionState.LocalStorage?this.setLocalStorage(t):this.setSessionStorage(t),this._token=t},r.prototype.clearLocalStorage=function(){localStorage.removeItem(this.config.jwtTokenName)},r.prototype.clearSessionStorage=function(){sessionStorage.removeItem(this.config.jwtTokenName)},r.prototype.getTokenFromLocalStorage=function(){var t=localStorage.getItem(this.config.jwtTokenName);return t||""},r.prototype.getTokenFromSessionStorage=function(){var t=sessionStorage.getItem(this.config.jwtTokenName);return t||""},r.prototype.setLocalStorage=function(t){localStorage.setItem(this.config.jwtTokenName,t)},r.prototype.setSessionStorage=function(t){sessionStorage.setItem(this.config.jwtTokenName,t)},r.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[C]}]},{type:xt}]},r.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new r(e.ɵɵinject(C),e.ɵɵinject(xt))},token:r,providedIn:"root"}),r=m([e.Injectable({providedIn:"root"}),b(0,e.Inject(C))],r)}(),At=function(){function t(t,e){this.authenticationService=t,this.router=e}return t.prototype.canActivate=function(t,e){if(this.authenticationService.isAuthenticated()&&"admin"===this.authenticationService.getPrimaryUserRole())return!0;return this.router.navigate(["/admin/login"]),!1},t.ctorParameters=function(){return[{type:Tt},{type:u.Router}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(Tt),e.ɵɵinject(u.Router))},token:t,providedIn:"root"}),t=m([e.Injectable({providedIn:"root"})],t)}(),Mt=function(){function t(t,e){this.authenticationService=t,this.router=e}return t.prototype.canActivate=function(t,e){return!!this.authenticationService.isAuthenticated()||(this.router.navigate(["/"]),!1)},t.ctorParameters=function(){return[{type:Tt},{type:u.Router}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(Tt),e.ɵɵinject(u.Router))},token:t,providedIn:"root"}),t=m([e.Injectable({providedIn:"root"})],t)}(),qt=function(){function t(){this.deleteRequestSubject$=new n.Subject,this.editRequestSubject$=new n.Subject,this.cloneRequestSubject$=new n.Subject}return t.prototype.cloneRequest=function(t){this.cloneRequestSubject$.next(t)},t.prototype.deleteRequest=function(t){this.deleteRequestSubject$.next(t)},t.prototype.editRequest=function(t){this.editRequestSubject$.next(t)},t.prototype.subscribe=function(t,e){this[t].subscribe(e)},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=m([e.Injectable({providedIn:"root"})],t)}(),Nt=function(){},Ht=function(r){function n(t,e,n,i){var o=r.call(this,t,e,n,i)||this;return o.baseEndpoint="error/client",o}return g(n,r),n.prototype.deleteClientError=function(e){return S(this,void 0,void 0,(function(){var r=this;return w(this,(function(n){return[2,this._delete(e,t.Secure.true).catch((function(t){return S(r,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("CustomErrorHandlerService","deleteClientError",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype.getClientError=function(e){return S(this,void 0,void 0,(function(){var r=this;return w(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t.Secure.true).catch((function(t){return S(r,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("CustomErrorHandlerService","getClientError",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,n.sent()]}}))}))},n.prototype.handleError=function(t){return S(this,void 0,void 0,(function(){var e,r;return w(this,(function(n){switch(n.label){case 0:return console.log("Default error handler caught an error"),console.log(t),!1!==this.config.production?[3,2]:[4,this.errorDialogService.openErrorDialog("Unexpected Error","An unexpected error occurred: "+t.message)];case 1:n.sent(),n.label=2;case 2:return e=new wt("unknown",t.message,t.status,t.statusText,t.url),[4,this.reportClientError(e)];case 3:return r=n.sent(),document.location.href=this.config.errorRoute+"?errorReportId="+r._id,[2,null]}}))}))},n.prototype.reportClientError=function(e){return S(this,void 0,void 0,(function(){var r=this;return w(this,(function(n){switch(n.label){case 0:return[4,this._post(e,t.Secure.true,!1).catch((function(t){return S(r,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("CustomErrorHandlerService","reportHttpError",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,n.sent()]}}))}))},n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[C]}]},{type:W,decorators:[{type:e.Inject,args:[k]}]},{type:u.Router},{type:s.HttpClient}]},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(C),e.ɵɵinject(k),e.ɵɵinject(u.Router),e.ɵɵinject(s.HttpClient))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"}),b(0,e.Inject(C)),b(1,e.Inject(k))],n)}(Ut),Ft=function(){function t(t,r){var n=this;this.router=t,this.routeChanged=new e.EventEmitter;var i=this;this.router.events.subscribe((function(t){if(t instanceof u.NavigationEnd){var e=n.router.routerState.snapshot.root,r=n.generateRouteParts(e);i.routeParts=n.formatRouteParts(r),n.routeChanged.emit(i.routeParts)}}))}return t.prototype.generateRouteParts=function(t){var e=[];return t&&(t.firstChild&&(e=e.concat(this.generateRouteParts(t.firstChild))),t.url.length&&e.push({title:t.data.title,breadcrumb:t.data.breadcrumb,url:t.url[0].path,urlSegments:t.url,params:t.params})),e},t.prototype.formatRouteParts=function(t){var e,r;t.reverse();var n="";try{for(var i=_(t),o=i.next();!o.done;o=i.next()){var s=o.value;""===n?n=s.url:(!1===n.endsWith("/")&&(n+="/"),n+=s.url),s.url=n}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return t},t.ctorParameters=function(){return[{type:u.Router},{type:u.ActivatedRoute}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(u.Router),e.ɵɵinject(u.ActivatedRoute))},token:t,providedIn:"root"}),m([e.Output()],t.prototype,"routeChanged",void 0),t=m([e.Directive(),e.Injectable({providedIn:"root"})],t)}(),Bt=function(r){function n(t,e,n,i){var o=r.call(this,t,e,n,i)||this;return o.config=t,o.baseEndpoint=t.userBaseEndpoint,o.type=Et,o}return g(n,r),n.prototype._addUserRole=function(e,r){return S(this,void 0,void 0,(function(){var n,i=this;return w(this,(function(o){return(n=new Dt).secure=t.Secure.true,n.url=Ot.join(this.apiRoot,this.baseEndpoint,e,"addrole"),n.parameters.add("role",r),[2,this._putWithOptions(n).catch((function(t){return S(i,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","addUserRole",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype._deleteUser=function(e){return S(this,void 0,void 0,(function(){var r=this;return w(this,(function(n){return[2,this._delete(e,t.Secure.true).catch((function(t){return S(r,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","deleteUser",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype._getAdminUsers=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).secure=t.Secure.true,r.url=Ot.join(this.apiRoot,this.baseEndpoint),r.parameters.add("role","admin"),e&&(r.parameters.add("skip",e.skip.toString()),r.parameters.add("trace",e.take.toString()),e.sort.length>0&&r.parameters.add("sort",e.sort)),[4,this._getManyWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","getAdminUsers",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.prototype._getUser=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).secure=t.Secure.true,r.url=Ot.join(this.apiRoot,this.baseEndpoint,e),[4,this._getWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","getUser",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.prototype._getBasicUsers=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).secure=t.Secure.true,r.url=Ot.join(this.apiRoot,this.baseEndpoint),r.parameters.add("onlyrole","user"),e&&(r.parameters.add("skip",e.skip.toString()),r.parameters.add("trace",e.take.toString()),e.sort.length>0&&r.parameters.add("sort",e.sort)),[4,this._getManyWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","getAssessmentUsers",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.prototype._getUsers=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).secure=t.Secure.true,r.url=Ot.join(this.apiRoot,this.baseEndpoint),e&&(r.parameters.add("skip",e.skip.toString()),r.parameters.add("trace",e.take.toString()),e.sort.length>0&&r.parameters.add("sort",e.sort)),[4,this._getManyWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","getUsers",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.prototype._removeUserRole=function(e,r){return S(this,void 0,void 0,(function(){var n,i=this;return w(this,(function(o){return(n=new Dt).secure=t.Secure.true,n.url=Ot.join(this.apiRoot,this.baseEndpoint,e,"remove-role"),n.parameters.add("role",r),[2,this._putWithOptions(n).catch((function(t){return S(i,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","removeUserRole",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype._requestPasswordReset=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).secure=t.Secure.false,r.url=Ot.join(this.apiRoot,this.baseEndpoint,"request-password-reset"),r.objectType=It,[4,this._postWithOptions(e,r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","requestPasswordReset",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return i.sent(),[2,!0]}}))}))},n.prototype._requestPasswordResetToken=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){switch(i.label){case 0:return(r=new Dt).secure=t.Secure.false,r.url=Ot.join(this.apiRoot,this.baseEndpoint,"request-password-reset-token"),r.objectType=It,[4,this._postWithOptions(e,r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","requestPasswordResetToken",t)];case 1:return[2,e.sent()]}}))}))}))];case 1:return[2,i.sent()]}}))}))},n.prototype._resendVerificationEmail=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){return(r=new Dt).secure=t.Secure.false,r.url=Ot.join(this.apiRoot,this.baseEndpoint,"resend-verification-email"),r.parameters.add("email",e),[2,this._getWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","resendVerificationEmail",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype._resetPassword=function(e){return S(this,void 0,void 0,(function(){var r;return w(this,(function(n){switch(n.label){case 0:return(r=new Dt).secure=t.Secure.false,r.url=Ot.join(this.apiRoot,this.baseEndpoint,"reset-password"),[4,this._postWithOptions(e,r)];case 1:return[2,n.sent()]}}))}))},n.prototype._updateUser=function(e){return S(this,void 0,void 0,(function(){var r=this;return w(this,(function(n){return[2,this._put(e,t.Secure.true).catch((function(t){return S(r,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","updateUser",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype._validatePasswordResetToken=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){return(r=new Dt).secure=t.Secure.false,r.url=Ot.join(this.apiRoot,this.baseEndpoint,"validate-password-reset-token"),r.parameters.add("token",e),[2,this._getWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","validatePasswordResetToken",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.prototype._validateEmail=function(t){return this.httpClient.get(Ot.join(this.apiRoot,this.baseEndpoint,"validate-email?email="+t),{headers:this.noTokenHeader})},n.prototype._validateVerifyEmailToken=function(e){return S(this,void 0,void 0,(function(){var r,n=this;return w(this,(function(i){return(r=new Dt).secure=t.Secure.false,r.url=Ot.join(this.apiRoot,this.baseEndpoint,"validate-verify-email-token"),r.parameters.add("token",e),[2,this._getWithOptions(r).catch((function(t){return S(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.handlePromiseError("UserDataService","validateVerifyEmailToken",t)];case 1:return[2,e.sent()]}}))}))}))]}))}))},n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[C]}]},{type:W,decorators:[{type:e.Inject,args:[k]}]},{type:u.Router},{type:s.HttpClient}]},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(C),e.ɵɵinject(k),e.ɵɵinject(u.Router),e.ɵɵinject(s.HttpClient))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"}),b(0,e.Inject(C)),b(1,e.Inject(k))],n)}(Ut),Lt=function(t,e,r){this.token=t,this.userId=e,this.newPassword=r},Wt=function(r){function n(t,e,n,i){var o=r.call(this)||this;return o.authenticationService=t,o.dataService=e,o.confirmDialogService=n,o.router=i,o}return g(n,r),Object.defineProperty(n.prototype,"userId",{get:function(){return this._userId||(this._userId=this.authenticationService.getUserId()),this._userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userRole",{get:function(){return this._primaryUserRole||(this._primaryUserRole=this.authenticationService.getPrimaryUserRole()),this._primaryUserRole},enumerable:!0,configurable:!0}),n.prototype._deleteUser=function(e){return S(this,void 0,void 0,(function(){return w(this,(function(r){switch(r.label){case 0:return[4,this.confirmDialogService.openConfirmDialog("Delete User","Do you want to delete the selected user? This action cannot be undone.")];case 1:return r.sent().button===t.DialogButton.Cancel?[2,!1]:[4,this.dataService._deleteUser(e)];case 2:return[2,r.sent()]}}))}))},n.prototype._getAdminUsers=function(){return S(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.dataService._getAdminUsers()];case 1:return[2,t.sent()]}}))}))},n.prototype._getBasicUsers=function(){return S(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.dataService._getBasicUsers()];case 1:return[2,t.sent()]}}))}))},n.prototype._getCurrentUser=function(){return S(this,void 0,void 0,(function(){var t;return w(this,(function(e){switch(e.label){case 0:return this.userId?(t=this.userId,[4,this.dataService._getUser(t)]):[2,null];case 1:return[2,e.sent()]}}))}))},n.prototype._getUsers=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.dataService._getUsers(t)];case 1:return[2,e.sent()]}}))}))},n.prototype._getPrimaryUserRole=function(){return this.authenticationService.getPrimaryUserRole()},n.prototype._getUser=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.dataService._getUser(t)];case 1:return[2,e.sent()]}}))}))},n.prototype._loginUser=function(t){return S(this,void 0,void 0,(function(){var e;return w(this,(function(r){switch(r.label){case 0:return[4,this.authenticationService.authenticate(t)];case 1:return!0===(e=r.sent()).authenticated&&(this._userId=this.authenticationService.getUserId(),this._primaryUserRole=this.authenticationService.getPrimaryUserRole()),[2,e]}}))}))},n.prototype._logoutUser=function(t){void 0===t&&(t=""),this._userId=null,this.authenticationService.logoutUser(),t&&this.router.navigate([t])},n.prototype._registerUser=function(e,r){return void 0===r&&(r=t.Secure.false),S(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.authenticationService.registerUser(e,r)];case 1:return[2,t.sent()]}}))}))},n.prototype._requestPasswordReset=function(t){return S(this,void 0,void 0,(function(){var e;return w(this,(function(r){switch(r.label){case 0:return e=new It(t),[4,this.dataService._requestPasswordReset(e)];case 1:return[2,r.sent()]}}))}))},n.prototype._requestPasswordResetToken=function(t){return S(this,void 0,void 0,(function(){var e;return w(this,(function(r){switch(r.label){case 0:return e=new It(t),[4,this.dataService._requestPasswordResetToken(e)];case 1:return[2,r.sent()]}}))}))},n.prototype._resendVerificationEmail=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.dataService._resendVerificationEmail(t)];case 1:return[2,e.sent()]}}))}))},n.prototype._resetPassword=function(t,e,r){return S(this,void 0,void 0,(function(){var n;return w(this,(function(i){return n=new Lt(t,e,r),[2,this.dataService._resetPassword(n)]}))}))},n.prototype._updateUser=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.dataService._updateUser(t)];case 1:return[2,e.sent()]}}))}))},n.prototype._validatePasswordResetToken=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.dataService._validatePasswordResetToken(t)];case 1:return[2,e.sent()]}}))}))},n.prototype._validateVerifyEmailToken=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.dataService._validateVerifyEmailToken(t)];case 1:return[2,e.sent()]}}))}))},n.ctorParameters=function(){return[{type:Tt},{type:Bt},{type:F},{type:u.Router}]},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(Tt),e.ɵɵinject(Bt),e.ɵɵinject(F),e.ɵɵinject(u.Router))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"})],n)}(Nt);($=t.FilterCase||(t.FilterCase={}))[$.CaseInsensitive=0]="CaseInsensitive",$[$.CaseSensitive=1]="CaseSensitive",(K=t.FilterScope||(t.FilterScope={}))[K.Contains=0]="Contains",K[K.StartsWith=1]="StartsWith",K[K.EndsWith=2]="EndsWith",(V=t.Sort||(t.Sort={}))[V.Ascending=0]="Ascending",V[V.Descending=1]="Descending",(G=t.UniqueMode||(t.UniqueMode={}))[G.Id=0]="Id",G[G.Object=1]="Object",(Q=t.Unique||(t.Unique={}))[Q.True=0]="True",Q[Q.False=1]="False";var zt=function(e,r){void 0===e&&(e=t.FilterCase.CaseInsensitive),void 0===r&&(r=t.FilterScope.Contains),this.fitlerCase=e,this.fitlerScope=r},$t=function(t,e){this.key=t,this.order=e},Kt=new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/),Vt=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,Gt=/^[-+]?(?:[1-8]?\d(?:\.\d+)?|90(\.0+)?)$/,Qt=/^[-+]?(?:180(?:\.0+)?|(?:(?:1[0-7]\d)|(?:[1-9]?\d))(?:\.\d+)?)$/,Xt=/^(?:[\+0]?\d[\s-]?)?(?:(?:\(\d{3}\)[\s-]?)|(?:\d{3})[\s-]?)?\d{3}[\s\-]?\d{4}$/,Zt=/^(?:http(?:s)?:\/\/)[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(?:\)\*\+,;=.]+$/i,Jt=/^\d{5}(?:[-\s]\d{4})?$/,Yt=function(){function t(){}return t.isIsoDate=function(t){return!0===Vt.test(t)},t.isLatitude=function(t){return!0===Gt.test(t)},t.isLongitude=function(t){return!0===Qt.test(t)},t.isPhoneNumber=function(t){return!0===Xt.test(t)},t.isStrongPassword=function(t){return!0===Kt.test(t)},t.isUrl=function(t){return!0===Zt.test(t)},t.isZipCode=function(t){return!0===Jt.test(t)},t}(),te=function(){function e(){}return e.append=function(r,n,i,o){if(void 0===i&&(i=t.Unique.True),void 0===o&&(o=t.UniqueMode.Id),i===t.Unique.True){if(o===t.UniqueMode.Id&&n.hasOwnProperty("_id")&&!1===e.isUniqueById(r,n))return!1;if(o===t.UniqueMode.Object&&!1===e.isUniqueByObject(r,n))return!1}return r.push(n),!0},e.filter=function(t,e,r,n){var i=this;return e&&t?(n||(n=new zt),t.filter((function(t){var o,s;try{for(var a=_(r),u=a.next();!u.done;u=a.next()){var c=t[u.value],l=i.getFilterRegex(e,n);if(c.search(l)>=0)return!0}}catch(t){o={error:t}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!1}))):t},e.find=function(t,e,r){return t.find((function(t){return t[e]===r}))},e.findById=function(t,e){return t.find((function(t){return t._id===e}))},e.findIndex=function(t,e){return t.findIndex((function(t){return t===e}))},e.insert=function(t,e,r){return void 0===r&&(r=0),t.splice(r,0,e),!0},e.multiKeySort=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.sort((function(e,n){var i,o;try{for(var s=_(r),a=s.next();!a.done;a=s.next()){var u=a.value;if("boolean"==typeof e[u.key]){if(!e[u.key]&&n[u.key])return u.order===t.Sort.Ascending?-1:1;if(e[u.key]&&!n[u.key])return u.order===t.Sort.Ascending?1:-1}else if(Yt.isIsoDate(e[u.key])||"string"!=typeof e[u.key]){if(e[u.key]<n[u.key])return u.order===t.Sort.Ascending?-1:1;if(e[u.key]>n[u.key])return u.order===t.Sort.Ascending?1:-1}else{if(e[u.key].toLowerCase()<n[u.key].toLowerCase())return u.order===t.Sort.Ascending?-1:1;if(e[u.key].toLowerCase()>n[u.key].toLowerCase())return u.order===t.Sort.Ascending?1:-1}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return 0}))},e.remove=function(t,e){return t.filter((function(t){return t._id!==e._id}))},e.removeById=function(t,e){return t.filter((function(t){return t._id!==e}))},e.shuffle=function(t){for(var e,r,n=t.length;0!==n;)r=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[r],t[r]=e;return t},e.sort=function(e,r,n){e.sort((function(e,i){return Yt.isIsoDate(e[r])||"string"!=typeof e[r]?e[r]<i[r]?n===t.Sort.Ascending?-1:1:e[r]>i[r]?n===t.Sort.Ascending?1:-1:0:e[r].toLowerCase()<i[r].toLowerCase()?n===t.Sort.Ascending?-1:1:e[r].toLowerCase()>i[r].toLowerCase()?n===t.Sort.Ascending?1:-1:0}))},e.update=function(t,e,r){void 0===r&&(r=!1);var n=t.findIndex((function(t){return t._id===e._id}));return n<0?!0===r?(t.push(e),t):t:(t[n]=e,t)},e.getFilterRegex=function(e,r){var n;switch(e=this.escapeRegexCharacters(e),r.fitlerScope){case t.FilterScope.StartsWith:n="^"+e;break;case t.FilterScope.EndsWith:n=e+"$";break;default:n=e}return r.fitlerCase===t.FilterCase.CaseSensitive?new RegExp(".*"+n+".*"):new RegExp(".*"+n+".*","i")},e.isUniqueByObject=function(t,e){var r,n;try{for(var i=_(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(d.isEqual(s,e))return!1}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!0},e.isUniqueById=function(t,e){return!t.find((function(t){return t._id===e._id}))},e.escapeRegexCharacters=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e}(),ee=function(){function t(){}return t.copy=function(e){return t.deepCopy(e)},t.deepCopy=function(t){return d.cloneDeep(t)},t.shallowCopy=function(t){return y({},t)},t.typedCopy=function(t,e){var r=this.deepCopy(t);return r=p.plainToClass(e,r)},t}(),re=function(){function t(){}return t.ApplyMixins=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(r){t.prototype[r]=e.prototype[r]}))}))},t}(),ne=function(){function t(t,e){void 0===t&&(t=5),void 0===e&&(e=[5,10,20,50]);for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.paginationSubject$=new n.Subject,this._pageIndex=0,this._pageSize=5,this._filterColumns=[],this._filterOptions=new zt,this._pageSize=t,this._pageSizeOptions=e,this._sortOptions=r}return Object.defineProperty(t.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFilter",{get:function(){return!!this._query},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(t){this._length=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){this._pageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},set:function(t){this._pageSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previousPageIndex",{get:function(){return this._previousPageIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSizeOptions",{get:function(){return this._pageSizeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noData",{get:function(){return this._noData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortOptions",{get:function(){return this._sortOptions},enumerable:!0,configurable:!0}),t.prototype.append=function(t,e){return t&&this._data.push(t),this.paginate(e)},t.prototype.deleteById=function(t,e){return t&&(this._data=this._data.filter((function(e){return e._id!==t}))),this.paginate(e)},t.prototype.find=function(t,e){return te.find(this._data,t,e)},t.prototype.getById=function(t){return te.findById(this._data,t)},t.prototype.goFirst=function(){return this._pageIndex=0,this.paginate()},t.prototype.goLast=function(){var t=Math.floor(this._length/this._pageSize);this._pageIndex=t-1,this._pageIndex<0&&(this._pageIndex=0)},t.prototype.insert=function(t,e){return t&&this._data.unshift(t),this.paginate(e)},t.prototype.loadData=function(t){return this._data=t,this._length=t.length,this._noData=0===t.length,this.paginate()},t.prototype.onPagination=function(t){return S(this,void 0,void 0,(function(){return w(this,(function(e){return t.pageSizeChanged=this._pageSize!==t.pageSize,this._length=t.length,this._pageIndex=t.pageIndex,this._pageSize=t.pageSize,this._previousPageIndex=t.previousPageIndex,this.paginationSubject$.next(t),[2]}))}))},t.prototype.paginate=function(t){this.sort(),this._filteredData=this.filter(),this._length=this._filteredData.length,void 0!==t&&(this._pageIndex=t);var e=this._pageIndex*this._pageSize;e>=this.length&&(this._pageIndex--,this.pageIndex<0&&(this.pageIndex=0),e=this._pageIndex*this._pageSize);var r=e+this._pageSize;return d.slice(this._filteredData,e,r)},t.prototype.setSortOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._sortOptions=t},t.prototype.setFilterColumns=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._filterColumns=t},t.prototype.setFilterOptions=function(t,e){this._filterOptions=new zt(t,e)},t.prototype.setQuery=function(t){return this._query=t,this.paginate()},t.prototype.update=function(t,e){var r=this._data.findIndex((function(e){return e._id===t._id}));return r<0?this._data.push(t):this._data[r]=t,this.paginate(e)},t.prototype.filter=function(){return this._query&&this._data?te.filter(this._data,this._query,this._filterColumns,this._filterOptions):this._data},t.prototype.sort=function(){this._sortOptions&&this._data&&te.multiKeySort.apply(te,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j(arguments[e]));return t}([this._data],this._sortOptions))},t}(),ie=function(){function t(){}return t.generateId=function(){for(var t=f.generate();t.indexOf("_")>=0||t.indexOf("-")>=0;)t=f.generate();return t},t}(),oe=function(){function e(){this.dialogResult=new U(t.DialogButton.OK)}return e.prototype.open=function(){var t=this;return{afterClosed:function(){return n.of(t.dialogResult)}}},e}();t.AdminAuthGuardService=At,t.ArrayDto=yt,t.AuthenticationDataService=xt,t.AuthenticationDetails=Z,t.AuthenticationService=Tt,t.AuthenticationTokenExpiry=J,t.BaseComponent=E,t.BaseComponentUIService=qt,t.BaseDataService=Ut,t.BaseModel=tt,t.BaseNewUserRequest=jt,t.BasePasswordResetRequest=It,t.BaseService=Nt,t.BaseUser=Et,t.BaseUserDataService=Bt,t.BaseUserService=Wt,t.ClientErrorReport=wt,t.CollectionUtil=te,t.ConfirmDialogComponent=q,t.ConfirmDialogData=H,t.ConfirmDialogService=F,t.ConfirmDialogServiceInjectionToken=P,t.CustomErrorHandlerService=Ht,t.DialogResult=U,t.Dto=gt,t.DtoStatusContainer=vt,t.ErrorDialogComponent=O,t.ErrorDialogData=L,t.ErrorDialogService=W,t.ErrorDialogServiceInjectionToken=k,t.FilterOptions=zt,t.GetOptions=X,t.ISO_DATE_REGEX=Vt,t.ItemDto=mt,t.LATITUDE_REGEX=Gt,t.LONGITUDE_REGEX=Qt,t.LeathermanAppConfigInjectionToken=C,t.LeathermanModule=N,t.LoginRequest=Y,t.MatDialogMock=oe,t.MixinUtil=re,t.MockConfirmDialogService=B,t.MockErrorDialogService=z,t.ObjectCopyUtil=ee,t.Options=Dt,t.PHONE_NUMBER_REGEX=Xt,t.PaginatorUtil=ne,t.Parameter=kt,t.Parameters=Pt,t.RegexUtil=Yt,t.RoutePartsService=Ft,t.STATE_ABBREVIATIONS=["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],t.STRONG_PASSWORD_REGEX=Kt,t.SafeHtmlPipe=R,t.SearchFacetField=et,t.SearchFacetFilter=nt,t.SearchFacetFilterProperties=rt,t.SearchFacetOptions=it,t.SearchFacetRangeFilter=st,t.SearchFacetRangeFilterProperties=ot,t.SearchFacetRangeQuery=at,t.SearchMatchFilter=ut,t.SearchOptions=lt,t.SearchRangeFilter=ct,t.SearchResultFacet=dt,t.SearchResultFacetItem=ht,t.SearchResultMeta=pt,t.SearchResultRequest=ft,t.SearchResultsContainer=bt,t.SearchResultsDto=St,t.ShortIdUtil=ie,t.SortOption=$t,t.URL_REGEX=Zt,t.UploadEvent=_t,t.UrlUtil=Ot,t.UserAuthGuardService=Mt,t.ValidatePasswordResetTokenResponse=Rt,t.ValidateVerifyEmailTokenResponse=Ct,t.ZIP_CODE_REGEX=Jt,t.validateStrongPassword=function(t){try{var e=t.value;if(!1===/(?=.*[a-z])/.test(e))return{lowerCase:{invalid:!0}};if(!1===/(?=.*[A-Z])/.test(e))return{upperCase:{invalid:!0}};if(!1===/(?=.*[0-9])/.test(e))return{number:{invalid:!0}};if(!1===/(?=.[@%/'"!#,~&;`_<>\:\.\^\$\*\+\-\?\(\)\[\]\{\}\\\|])/.test(e))return{specialCharacter:{invalid:!0}};return e.length<8?{minLength:{invalid:!0}}:e.length>20?{maxLength:{invalid:!0}}:{}}catch(t){return{invalidPassword:{invalid:!0}}}},t.ɵa=D,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=leatherman-bootstrap.umd.min.js.map